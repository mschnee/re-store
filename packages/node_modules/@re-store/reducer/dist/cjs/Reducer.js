"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const immutable_1 = require("immutable");
class Reducer {
    constructor(store, defaultState) {
        this.reducerMethods = {};
        this.store = store;
        this.defaultState = defaultState || immutable_1.Map({}); // todo: this might be bad :/
    }
    register(key, fn) {
        this.reducerMethods[key] = fn;
    }
    reduce(previousState, action) {
        const nextState = previousState || this.defaultState;
        if (!this.reducerMethods.hasOwnProperty(action.type)) {
            return nextState;
        }
        else {
            return this.reducerMethods[action.type](nextState, action.payload);
        }
    }
}
exports.Reducer = Reducer;
//# sourceMappingURL=Reducer.js.map