import Reducer from '@re-store/reducer';
import Reduce from '../Reduce';

export const DOUBLE = Symbol('Double The Value');

export interface TestReducerState {
    num: number;
}

export default class TestReducer extends Reducer<TestReducerState> {
    @Reduce('increment')
    public increment(state: any, payload: any) {
        if (!state) {
            state = {
                num: 0
            }
        }
        state.num = state.num + 1;
    }

    @Reduce('decrement')
    public decrement(state: any, payload: any) {
        if (!state) {
            state = {
                num: 0
            }
        }
        state.num = state.num - 1;
    }

    @Reduce(DOUBLE)
    public double(state: any, payload: any) {
        if (!state) {
            state = {
                num: 0
            }
        }
        state.num = state.num * 2;
    }
}