import { default as RestoreReducer } from '@re-store/reducer';
import { MapState } from '@re-store/types';

export default function Reduce<State>(key: string | symbol) {
    return function(target: RestoreReducer<State>, key: string | symbol, descriptor: PropertyDescriptor) {
        console.log(target, target.register);
        if (target.register) {
            const rfn: (state: MapState<State>, payload: any) => MapState<State> = (target as any)[key];
            target.register(key, rfn);
        }
    }
}
