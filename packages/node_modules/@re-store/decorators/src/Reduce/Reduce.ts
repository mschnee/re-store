import { default as RestoreReducer } from '@re-store/reducer';

import { METADATA } from '../lib/types';

export default function Reduce<State>(key: string | symbol) {
    return function(target: RestoreReducer<State>, key: string | symbol, descriptor: PropertyDescriptor) {
        if (!target.hasOwnProperty(METADATA)) {
            (target as any)[METADATA] = new Map();
        }
        (target as any)[METADATA].set(key, descriptor.value);
    }
}
